<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Alfredo Services | ServiÃ§os Profissionais & FormaÃ§Ã£o</title>

<meta name="description" content="Alfredo Services oferece Marketing Digital, TrÃ¡fego Pago, criaÃ§Ã£o de cartÃ£o visa virtual, Corte e Costura, Garson, DecoraÃ§Ã£o, Pastelaria, FormaÃ§Ã£o Profissional e ImportaÃ§Ã£o.">
<meta property="og:title" content="Alfredo Services">
<meta property="og:description" content="SoluÃ§Ãµes profissionais em serviÃ§os, formaÃ§Ã£o e marketing digital.">
<meta property="og:image" content="lg.jpg">
<meta property="og:type" content="website">

<link rel="icon" href="lg.jpg">
<link rel="stylesheet" href="style.css">
</head>

<body>

<header>
  <img src="lg.jpg" class="logo" alt="Alfredo Services">
  <nav>
    <a href="index.html">InÃ­cio</a>
    <a href="contato.html">Contato</a>
    <a href="admin.html">âš™</a>
  </nav>
</header>

<section class="hero">
  <h1>Alfredo Services</h1>
  <p>ExcelÃªncia em serviÃ§os profissionais, formaÃ§Ã£o e soluÃ§Ãµes digitais</p>
</section>

<section class="container">
  <h2>AtualizaÃ§Ãµes recentes</h2>
  <div id="posts"></div>
</section>

<style>
  .post-card {
    background-color: #fff;
    border-radius: 10px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    padding: 15px;
    margin-bottom: 20px;
    word-wrap: break-word;
  }

  .post-card img,
  .post-card video {
    max-width: 100%;
    height: auto;
    border-radius: 5px;
    display: block;
    margin-top: 10px;
  }

  .post-title {
    font-size: 1.2em;
    font-weight: bold;
    margin: 10px 0 5px 0;
  }

  .post-text {
    margin-bottom: 10px;
  }

  .post-date {
    font-size: 0.85em;
    color: #777;
    margin-top: 5px;
  }

  .whatsapp-button {
    margin-top: 10px;
    padding: 8px 12px;
    background-color: #25D366;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    text-decoration: none;
    display: inline-block;
  }

  .whatsapp-button:hover {
    background-color: #1ebe57;
  }
</style>

<script type="module">
import { supabase } from "./supabase.js";

function formatDate(dateString) {
  const date = new Date(dateString);
  const day = String(date.getDate()).padStart(2,"0");
  const month = String(date.getMonth()+1).padStart(2,"0");
  const year = date.getFullYear();
  const hours = String(date.getHours()).padStart(2,"0");
  const minutes = String(date.getMinutes()).padStart(2,"0");
  return `${day}/${month}/${year} ${hours}:${minutes}`;
}

async function loadMainPosts() {
  const postsContainer = document.getElementById("posts");
  postsContainer.innerHTML = "Carregando atualizaÃ§Ãµes...";

  const { data, error } = await supabase
    .from("posts")
    .select("*")
    .order("id", { ascending: false });

  if (error) {
    postsContainer.innerHTML = "Erro ao carregar posts: " + error.message;
    return;
  }

  if (!data || data.length === 0) {
    postsContainer.innerHTML = "<p>Nenhuma atualizaÃ§Ã£o recente.</p>";
    return;
  }

  postsContainer.innerHTML = "";
  data.forEach(p => {
    let mediaHTML = "";
    let whatsappButton = "";

    if (p.media) {
      if (p.media.match(/\.(mp4|webm|ogg)$/i)) {
        mediaHTML = `<video src="${p.media}" controls style="width:100%;"></video>`;
        whatsappButton = `<a class="whatsapp-button" href="https://wa.me/244930349132?text=${encodeURIComponent('OlÃ¡! Quero saber mais sobre ' + p.titulo)}" target="_blank">Saber mais sobre isso</a>`;
      } else {
        mediaHTML = `<img src="${p.media}">`;
      }
    }

    postsContainer.innerHTML += `
      <div class="post-card">
        ${mediaHTML}
        <div class="post-title">${p.titulo}</div>
        <div class="post-text">${p.texto}</div>
        ${whatsappButton}
        <div class="post-date">Publicado em ${formatDate(p.created_at)}</div>
      </div>
    `;
  });
}

// Carregar posts ao abrir a pÃ¡gina
loadMainPosts();
</script>

<section class="container">
  <h2>Nossos ServiÃ§os</h2>

  <div class="grid">

    <div class="card">
      <img src="https://images.pexels.com/photos/6476589/pexels-photo-6476589.jpeg">
      <h3>Marketing Digital</h3>
      <p>GestÃ£o estratÃ©gica de redes sociais, criaÃ§Ã£o de conteÃºdo profissional e posicionamento digital para marcas e negÃ³cios.</p>
      <!-- BotÃ£o Solicitar Marketing de ServiÃ§o -->
<button id="solicitarMarketingBtn">ğŸ“ˆ Solicitar Marketing de ServiÃ§o</button>

<script>
// Seleciona o botÃ£o
const btnMarketing = document.getElementById("solicitarMarketingBtn");

// AÃ§Ã£o ao clicar
btnMarketing.addEventListener("click", () => {
  const hoje = new Date();
  const data = hoje.toLocaleDateString() + " " + hoje.toLocaleTimeString();

  // Mensagem formatada
  const mensagem = `ğŸ“ˆ *SolicitaÃ§Ã£o de Marketing de ServiÃ§o - Alfredo Services*\n\n` +
                   `ğŸ“Œ Gostaria de contratar serviÃ§os de marketing digital e promoÃ§Ã£o de serviÃ§os.\n` +
                   `ğŸ’¡ AgradeÃ§o o seu contato e disponibilidade.\n\n` +
                   `ğŸ“… Data/Hora: ${data}`;

  // Abre WhatsApp
  const url = `https://wa.me/244930349132?text=${encodeURIComponent(mensagem)}`;
  window.open(url, "_blank");
});
</script>
    </div>

    <div class="card">
      <img src="https://images.pexels.com/photos/6963944/pexels-photo-6963944.jpeg">
      <h3>TrÃ¡fego Pago</h3>
      <p>Links patrocinados focados em resultados reais, vendas e geraÃ§Ã£o de leads.</p>
      <!-- BotÃ£o Patrocinar ServiÃ§o -->
<button id="patrocinarBtn">ğŸ’¼ Patrocinar ServiÃ§o</button>

<script>
// Seleciona o botÃ£o
const btnPatrocinar = document.getElementById("patrocinarBtn");

// AÃ§Ã£o ao clicar
btnPatrocinar.addEventListener("click", () => {
  const hoje = new Date();
  const data = hoje.toLocaleDateString() + " " + hoje.toLocaleTimeString();

  // Mensagem formatada
  const mensagem = `ğŸ’¼ *PatrocÃ­nio de ServiÃ§o - Alfredo Services*\n\n` +
                   `ğŸ“Œ Gostaria de promover meu serviÃ§o.\n` +
                   `ğŸ’¡ Podes me dar mais detalhes?\n\n` +
                   `ğŸ“… Data/Hora: ${data}`;

  // Abre WhatsApp
  const url = `https://wa.me/244930349132?text=${encodeURIComponent(mensagem)}`;
  window.open(url, "_blank");
});
</script>
    </div>

<div class="card">
  <img src="imagem.jpeg" alt="Imagem de corte e costura">
</div>
      <h3>Corte e Costura</h3>
      <p>ConfecÃ§Ã£o, ajustes e formaÃ§Ã£o profissional em corte e costura com qualidade e precisÃ£o.</p>
      <!-- BotÃ£o Solicitar Costura -->
<button id="solicitarCosturaBtn">âœ‚ï¸ Solicitar Costura</button>

<script>
// Seleciona o botÃ£o
const btnCostura = document.getElementById("solicitarCosturaBtn");

// AÃ§Ã£o ao clicar
btnCostura.addEventListener("click", () => {
  const hoje = new Date();
  const data = hoje.toLocaleDateString() + " " + hoje.toLocaleTimeString();

  // Mensagem formatada
  const mensagem = `âœ‚ï¸ *SolicitaÃ§Ã£o de ServiÃ§o de Costura - Alfredo Services*\n\n` +
                   `ğŸ“Œ Gostaria de contratar serviÃ§os de corte e costura.\n` +
                   `ğŸ’¡ AgradeÃ§o o seu contato e disponibilidade.\n\n` +
                   `ğŸ“… Data/Hora: ${data}`;

  // Abre WhatsApp
  const url = `https://wa.me/244930349132?text=${encodeURIComponent(mensagem)}`;
  window.open(url, "_blank");
});
</script>
    </div>

    <div class="card">
      <img src="https://images.pexels.com/photos/587741/pexels-photo-587741.jpeg">
      <h3>DecoraÃ§Ã£o</h3>
      <p>DecoraÃ§Ã£o profissional para eventos, festas, cerimÃ´nias e ambientes corporativos.</p>
      <!-- BotÃ£o Solicitar DecoraÃ§Ã£o -->
<button id="solicitarDecoracaoBtn">ğŸ¨ Solicitar DecoraÃ§Ã£o</button>

<script>
// Seleciona o botÃ£o
const btnDecoracao = document.getElementById("solicitarDecoracaoBtn");

// AÃ§Ã£o ao clicar
btnDecoracao.addEventListener("click", () => {
  const hoje = new Date();
  const data = hoje.toLocaleDateString() + " " + hoje.toLocaleTimeString();

  // Mensagem formatada
  const mensagem = `ğŸ¨ *SolicitaÃ§Ã£o de ServiÃ§o de DecoraÃ§Ã£o - Alfredo Services*\n\n` +
                   `ğŸ“Œ Gostaria de contratar serviÃ§os de decoraÃ§Ã£o para evento ou ambiente.\n` +
                   `ğŸ’¡ AgradeÃ§o o seu contato e disponibilidade.\n\n` +
                   `ğŸ“… Data/Hora: ${data}`;

  // Abre WhatsApp
  const url = `https://wa.me/244930349132?text=${encodeURIComponent(mensagem)}`;
  window.open(url, "_blank");
});
</script>
    </div>

    <div class="card">
      <img src="https://images.pexels.com/photos/4109997/pexels-photo-4109997.jpeg">
      <h3>Pastelaria</h3>
      <p>ProduÃ§Ã£o de bolos, doces, salgados e serviÃ§os de pastelaria para eventos e encomendas especiais.</p>
      <!-- BotÃ£o Solicitar Pastelaria -->
<button id="solicitarPastelariaBtn">ğŸ° Solicitar serviÃ§os de Pastelaria</button>

<script>
// Seleciona o botÃ£o
const btnPastelaria = document.getElementById("solicitarPastelariaBtn");

// AÃ§Ã£o ao clicar
btnPastelaria.addEventListener("click", () => {
  const hoje = new Date();
  const data = hoje.toLocaleDateString() + " " + hoje.toLocaleTimeString();

  // Mensagem formatada
  const mensagem = `ğŸ° *SolicitaÃ§Ã£o de ServiÃ§o de Pastelaria - Alfredo Services*\n\n` +
                   `ğŸ“Œ Gostaria de contratar serviÃ§os de pastelaria para eventos ou encomendas.\n` +
                   `ğŸ’¡ AgradeÃ§o o seu contato e disponibilidade.\n\n` +
                   `ğŸ“… Data/Hora: ${data}`;

  // Abre WhatsApp
  const url = `https://wa.me/244930349132?text=${encodeURIComponent(mensagem)}`;
  window.open(url, "_blank");
});
</script>
    </div>

    <div class="card">
      <img src="https://images.pexels.com/photos/3184638/pexels-photo-3184638.jpeg">
      <h3>FormaÃ§Ã£o Profissional</h3>
      <p>Garanta sua formaÃ§Ã£o nas Ã¡reas de marketing digital, trafego pago, pastelaria, corte e costura, decoraÃ§Ã£o e importaÃ§Ã£o.</p>
      <!-- BotÃ£o para abrir sessÃ£o oculta -->
<button id="solicitarCursoBtn">ğŸ“š Solicitar Curso</button>

<!-- SessÃ£o oculta -->
<section id="cursoFormSection" style="display:none; margin-top:2rem;">
  <div class="card">
    <h2>Solicitar Curso</h2>
    <form id="cursoForm">
      <label>ğŸ‘¤ Nome (obrigatÃ³rio)</label>
      <input type="text" id="nomeCurso" placeholder="Seu nome" required>

      <label>ğŸ“ NÃºmero (obrigatÃ³rio)</label>
      <input type="text" id="numeroCurso" placeholder="+244 9XX XXX XXX" required>

      <label>âœ‰ Email (opcional)</label>
      <input type="email" id="emailCurso" placeholder="seuemail@exemplo.com">

      <label>ğŸ“ Curso (obrigatÃ³rio)</label>
      <select id="cursoSelecionado" required>
        <option value="">--Selecione o curso--</option>
        <option value="Marketing Digital">Marketing Digital</option>
        <option value="TrÃ¡fego Pago">TrÃ¡fego Pago</option>
        <option value="Corte e Costura">Corte e Costura</option>
        <option value="Garson">Garson (GarÃ§om)</option>
        <option value="DecoraÃ§Ã£o">DecoraÃ§Ã£o</option>
        <option value="Pastelaria">Pastelaria</option>
        <option value="FormaÃ§Ã£o Profissional">FormaÃ§Ã£o Profissional</option>
        <option value="ImportaÃ§Ã£o">ImportaÃ§Ã£o</option>
      </select>

      <button type="submit">Enviar via WhatsApp</button>
    </form>
  </div>
</section>

<script>
const btnCurso = document.getElementById("solicitarCursoBtn");
const secCurso = document.getElementById("cursoFormSection");

// Mostrar/ocultar sessÃ£o
btnCurso.addEventListener("click", () => {
  secCurso.style.display = secCurso.style.display === "none" ? "block" : "none";
  secCurso.scrollIntoView({behavior:"smooth"});
});

// Envio do formulÃ¡rio para WhatsApp
document.getElementById("cursoForm").addEventListener("submit", function(e){
  e.preventDefault();

  const nome = document.getElementById("nomeCurso").value.trim();
  const numero = document.getElementById("numeroCurso").value.trim();
  const email = document.getElementById("emailCurso").value.trim();
  const curso = document.getElementById("cursoSelecionado").value;

  if(!nome || !numero || !curso){
    alert("Por favor preencha os campos obrigatÃ³rios!");
    return;
  }

  const hoje = new Date();
  const data = hoje.toLocaleDateString() + " " + hoje.toLocaleTimeString();

  let mensagem = `ğŸŒŸ *SolicitaÃ§Ã£o de Curso - Alfredo Services*\n\n`;
  mensagem += `ğŸ‘¤ Nome: ${nome}\n`;
  mensagem += `ğŸ“ NÃºmero: ${numero}\n`;
  if(email) mensagem += `âœ‰ Email: ${email}\n`;
  mensagem += `ğŸ“ Curso Solicitado: ${curso}\n\n`;
  mensagem += `ğŸ’¡ Preciso mais detalhes do curso.\n\n`;
  mensagem += `ğŸ“… Data/Hora: ${data}`;

  const url = `https://wa.me/244930349132?text=${encodeURIComponent(mensagem)}`;
  window.open(url, "_blank");
});
</script>
    </div>

    <div class="card">
      <img src="https://images.pexels.com/photos/4483610/pexels-photo-4483610.jpeg">
      <h3>ImportaÃ§Ã£o</h3>
      <p>Consultoria e formaÃ§Ã£o em processos de importaÃ§Ã£o de serviÃ§os digitais.</p>
      <!-- BotÃ£o Solicitar ImportaÃ§Ã£o -->
<button id="solicitarImportacaoBtn">ğŸ“¦ Solicitar ImportaÃ§Ã£o</button>

<script>
// Seleciona o botÃ£o
const btnImportacao = document.getElementById("solicitarImportacaoBtn");

// AÃ§Ã£o ao clicar
btnImportacao.addEventListener("click", () => {
  const hoje = new Date();
  const data = hoje.toLocaleDateString() + " " + hoje.toLocaleTimeString();

  // Mensagem formatada
  const mensagem = `ğŸ“¦ *SolicitaÃ§Ã£o de ServiÃ§o de ImportaÃ§Ã£o - Alfredo Services*\n\n` +
                   `ğŸ“Œ Gostaria de contratar serviÃ§os de importaÃ§Ã£o de mercadorias.\n` +
                   `ğŸ’¡ AgradeÃ§o o seu contato e disponibilidade.\n\n` +
                   `ğŸ“… Data/Hora: ${data}`;

  // Abre WhatsApp
  const url = `https://wa.me/244930349132?text=${encodeURIComponent(mensagem)}`;
  window.open(url, "_blank");
});
</script>
    </div>

  </div>
</section>

<footer>
  <p>ğŸ“ 922473359 / 956103824</p>
  <p>âœ‰ alfredomarcolino4@gmail.com</p>
  <p>Â© Alfredo Services</p>
</footer>

<script type="module">
import "./supabase.js";

const posts = document.getElementById("posts");
const { data } = await supabase
  .from("posts")
  .select("*")
  .order("created_at",{ascending:false});

data.forEach(p=>{
posts.innerHTML += `
<div class="card">
<h3>${p.titulo}</h3>
<p>${p.texto}</p>
${p.media.includes("mp4") || p.media.includes("webm")
? `<video controls src="${p.media}"></video>`
: `<img src="${p.media}">`}
</div>`;
});
</script>

</body>
</html>